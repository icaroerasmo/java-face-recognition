package com.icaroerasmo;import java.io.IOException;import java.nio.file.Path;import java.nio.file.Paths;import com.icaroerasmo.model.FaceRecognition;import com.icaroerasmo.service.FaceRecognitionService;import org.bytedeco.opencv.opencv_face.*;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.CommandLineRunner;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import static org.bytedeco.opencv.global.opencv_imgcodecs.imwrite;@SpringBootApplicationpublic class JavaRtspFaceRecognition implements CommandLineRunner {    @Autowired    private FaceRecognitionService faceRecognitionService;    private static final Path DATASET = Paths.get("trained_dataset.xml");    public static void main(String[] args) {        SpringApplication.run(JavaRtspFaceRecognition.class, args);    }    @Override    public void run(String... args) throws Exception {        FaceRecognizer faceRecognizer;        if(DATASET.toFile().exists()) {            faceRecognizer = faceRecognitionService.load();        } else {            faceRecognizer = faceRecognitionService.train(args[0]);        }        FaceRecognition testImage = faceRecognitionService.test(faceRecognizer, args[1]);        imwrite("test.jpg",  testImage.getDetectionImg());        testImage.getFaces().                forEach(output -> {                    final String label = output.getPersonName();                    final Double confidence = output.getConfidence();                    System.out.println("Predicted label: " + label.substring(0, label.length()-1) + " confidence: "+ confidence);                });    }}